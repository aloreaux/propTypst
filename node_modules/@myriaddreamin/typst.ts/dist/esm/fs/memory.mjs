export class MemoryAccessModel {
    mTimes = new Map();
    mData = new Map();
    constructor() { }
    reset() {
        this.mTimes.clear();
        this.mData.clear();
    }
    insertFile(path, data, mtime) {
        this.mTimes.set(path, mtime);
        this.mData.set(path, data);
    }
    removeFile(path) {
        this.mTimes.delete(path);
        this.mData.delete(path);
    }
    getMTime(path) {
        if (!path.startsWith('/@memory/')) {
            return undefined;
        }
        if (this.mTimes.has(path)) {
            return this.mTimes.get(path);
        }
        return undefined;
    }
    isFile() {
        return true;
    }
    getRealPath(path) {
        return path;
    }
    readAll(path) {
        if (!path.startsWith('/@memory/')) {
            return undefined;
        }
        if (this.mData.has(path)) {
            return this.mData.get(path);
        }
        return undefined;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVtb3J5Lm1qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9mcy9tZW1vcnkubXRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sT0FBTyxpQkFBaUI7SUFDNUIsTUFBTSxHQUFrQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2xELEtBQUssR0FBd0MsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUN2RCxnQkFBZSxDQUFDO0lBRWhCLEtBQUs7UUFDSCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFZLEVBQUUsSUFBZ0IsRUFBRSxLQUFXO1FBQ3BELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFZO1FBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCxRQUFRLENBQUMsSUFBWTtRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUNqQyxPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUVELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDekIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM5QjtRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFFRCxNQUFNO1FBQ0osT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsV0FBVyxDQUFDLElBQVk7UUFDdEIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsT0FBTyxDQUFDLElBQVk7UUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDakMsT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7UUFFRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGc0FjY2Vzc01vZGVsIH0gZnJvbSAnLi4vaW50ZXJuYWwudHlwZXMubWpzJztcclxuaW1wb3J0IHsgV3JpdGFibGVBY2Nlc3NNb2RlbCB9IGZyb20gJy4vaW5kZXgubWpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW1vcnlBY2Nlc3NNb2RlbCBpbXBsZW1lbnRzIEZzQWNjZXNzTW9kZWwsIFdyaXRhYmxlQWNjZXNzTW9kZWwge1xyXG4gIG1UaW1lczogTWFwPHN0cmluZywgRGF0ZSB8IHVuZGVmaW5lZD4gPSBuZXcgTWFwKCk7XHJcbiAgbURhdGE6IE1hcDxzdHJpbmcsIFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQ+ID0gbmV3IE1hcCgpO1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLm1UaW1lcy5jbGVhcigpO1xyXG4gICAgdGhpcy5tRGF0YS5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgaW5zZXJ0RmlsZShwYXRoOiBzdHJpbmcsIGRhdGE6IFVpbnQ4QXJyYXksIG10aW1lOiBEYXRlKSB7XHJcbiAgICB0aGlzLm1UaW1lcy5zZXQocGF0aCwgbXRpbWUpO1xyXG4gICAgdGhpcy5tRGF0YS5zZXQocGF0aCwgZGF0YSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVGaWxlKHBhdGg6IHN0cmluZykge1xyXG4gICAgdGhpcy5tVGltZXMuZGVsZXRlKHBhdGgpO1xyXG4gICAgdGhpcy5tRGF0YS5kZWxldGUocGF0aCk7XHJcbiAgfVxyXG5cclxuICBnZXRNVGltZShwYXRoOiBzdHJpbmcpOiBEYXRlIHwgdW5kZWZpbmVkIHtcclxuICAgIGlmICghcGF0aC5zdGFydHNXaXRoKCcvQG1lbW9yeS8nKSkge1xyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm1UaW1lcy5oYXMocGF0aCkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubVRpbWVzLmdldChwYXRoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBpc0ZpbGUoKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGdldFJlYWxQYXRoKHBhdGg6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gcGF0aDtcclxuICB9XHJcblxyXG4gIHJlYWRBbGwocGF0aDogc3RyaW5nKTogVWludDhBcnJheSB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZiAoIXBhdGguc3RhcnRzV2l0aCgnL0BtZW1vcnkvJykpIHtcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5tRGF0YS5oYXMocGF0aCkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubURhdGEuZ2V0KHBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfVxyXG59XHJcbiJdfQ==